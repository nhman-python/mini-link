<div class="alert-messages">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        {% if category == 'success' %}
        <i class="bi bi-check-circle-fill text-success custom-icon"></i>
        {% elif category == 'danger' %}
        <i class="bi bi-exclamation-circle-fill text-danger custom-icon"></i>
        {% else %}
        <i class="bi bi-info-circle-fill text-info custom-icon"></i>
        {% endif %}
        <span class="custom-message">
            {{ message | safe }}
        </span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
</div>
{% if form.errors %}
<div class="alert alert-danger">
    <ul>
        {% for error in form.errors %}
        <li>{{ error }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}
